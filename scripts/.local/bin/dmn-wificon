#!/usr/bin/bash
# x--------------------------------------------------------------------------------x
#
# Script serves to connect to wifi using nmcli and dmenu.
# 
# TODO:
# -----
# * After connection has been established ask the user to 
# prompt the user for saving on passworld manager.
# * Bind this to a key.
#
# References:
# -----------
# * https://www.youtube.com/channel/UCngn7SVujlvskHRvRKc1cTw  
#
# x--------------------------------------------------------------------------------x


# (i) Gets the wifi connection bssid.
bssid=$(nmcli device wifi list | 
        sed -n '1!p' |
        cut -b 9- |
        dmenu -p "Select wifi:" -l 20 | 
        cut -d' ' -f1)

# (ii) Gets a user provided password.
pass=$(echo "" | dmenu -p "Enter password:")


# (iii) Putting it all together.
nmcli device wifi connect $bssid password $pass
